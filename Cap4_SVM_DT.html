
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4. Capítulo 4 · Máquina de Soporte Vectorial y Árbol de Decisión &#8212; GeoIA aplicado a Imágenes Satelitales</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Cap4_SVM_DT';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Capítulo 5 · Random Forest para detectar agua" href="Cap5_Agua.html" />
    <link rel="prev" title="3. Capítulo 3 · Random Forest en GEE y Colab" href="Cap3_gee_colab.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logoAgua.png" class="logo__image only-light" alt="GeoIA aplicado a Imágenes Satelitales - Home"/>
    <script>document.write(`<img src="_static/logoAgua.png" class="logo__image only-dark" alt="GeoIA aplicado a Imágenes Satelitales - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Prólogo
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Cap1_Tecnicas.html">1. Capítulo 1 · Teledetección y Aprendizaje Automático</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cap2_RFRosario.html">2. Capítulo 2 · Random Forest en GEE</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cap3_gee_colab.html">3. Capítulo 3 · Random Forest en GEE y Colab</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">4. Capítulo 4 · Máquina de Soporte Vectorial y árbol de Decisión</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cap5_Agua.html">5. Capítulo 5 · Random Forest para detectar agua</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cap6_ST.html">6. Capítulo 6 · Serie Temporales</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cap7_Datacubes.html">7. Capítulo 7 · Cubos de Imágenes Satelitales</a></li>
<li class="toctree-l1"><a class="reference internal" href="Referencias.html">8. Bibliografía</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/cdg-idera/PAT_INT_GEE" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/cdg-idera/PAT_INT_GEE/issues/new?title=Issue%20on%20page%20%2FCap4_SVM_DT.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Cap4_SVM_DT.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Capítulo 4 · Máquina de Soporte Vectorial y Árbol de Decisión</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion">4.1. Introducción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maquina-de-soporte-vectorial">4.2. Máquina de soporte vectorial.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arbol-de-decision">4.3. Arbol de Decisión</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grafico-del-arbol-de-decision-con-google-colab">4.4. Gráfico del Arbol de decisión con Google Colab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identificando-los-elementos-del-arbol-de-decision">4.5. Identificando los elementos del árbol de decisión</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-utilizacion-del-arbol-de-decision">4.6. Ejemplo de utilización del Árbol de Decisión</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-1-clase-0-agua">4.6.1. Ejemplo 1 clase 0 agua</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-2-clase-1-urbano">4.6.2. Ejemplo 2 clase 1 urbano</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-3-clase-2-cultivos">4.6.3. Ejemplo 3 clase 2 cultivos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-4-clase-3-bosque-zona-arbustiva">4.6.4. Ejemplo 4 clase 3 bosque-zona arbustiva</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-5-clase-4-suelo-desnudo">4.6.5. Ejemplo 5 clase 4 suelo desnudo</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recursos">4.7. Recursos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cierre-e-incentivos">4.8. Cierre e Incentivos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#video-del-capitulo">4.9. Video del capítulo</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="capitulo-4-maquina-de-soporte-vectorial-y-arbol-de-decision">
<h1><span class="section-number">4. </span>Capítulo 4 · Máquina de Soporte Vectorial y Árbol de Decisión<a class="headerlink" href="#capitulo-4-maquina-de-soporte-vectorial-y-arbol-de-decision" title="Link to this heading">#</a></h1>
<section id="introduccion">
<h2><span class="section-number">4.1. </span>Introducción<a class="headerlink" href="#introduccion" title="Link to this heading">#</a></h2>
<p>Propiciar la incorporación enfoques innovadores y paradigmas de ciencias de dato para maximizar la gestión, análisis y aprovechamiento de la información geoespacial, fomentando el uso de tecnologías emergentes, inteligencia artificial y modelos analíticos avanzados que optimicen la toma de decisiones y potencien el desarrollo de soluciones estratégicas en todos los niveles de gobierno y sectores involucrados.</p>
<p>En este capítulo exploraremos el uso de dos técnicas de aprendizaje automático para clasificación supervisada multiclase en Google Earth Engine. Aplicaremos Maquina de Soporte Vectorial: SVM (Support Vector Machine)
y Arboles de Decisión.</p>
</section>
<section id="maquina-de-soporte-vectorial">
<h2><span class="section-number">4.2. </span>Máquina de soporte vectorial.<a class="headerlink" href="#maquina-de-soporte-vectorial" title="Link to this heading">#</a></h2>
<p>En un capítulo anterior utilizamos Random Forest para clasificar imágenes de Sentinel-2 en  el área metropolitana de Rosario, para ello creamos el script GEE: Lab_002_RandomForest_Rosario. Accederemos a dicho script y guardaremos una copia del mismo, que renombraremos a Lab_003_SVM_Rosario.</p>
<p>Para aplicar Maquinas de soporte vectorial, el flujo de trabajo es el mismo que utilizamos con Random Forest, con excepción de que en lugar de utilizar un clasificador de Random Forest, utilizaremos un clasificador de Maquina de Soporte Vectorial. En otras palabras, el cambio principal está en la etapa de entrenamiento del clasificador.</p>
<p>Antes utilizaamos ee.Classifier.smileRandomForest(100), ahora utilizamos ee.Classifier.libsvm(). Libsvm significa “a library por support vector machine” (ver fig. <a class="reference internal" href="#fig-post-5"><span class="std std-numref">Fig. 4.1</span></a>).</p>
<figure class="align-default" id="fig-post-5">
<a class="reference internal image-reference" href="_images/POST_5.png"><img alt="_images/POST_5.png" src="_images/POST_5.png" style="width: 70%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.1 </span><span class="caption-text">Significado del acrónimo libSVM</span><a class="headerlink" href="#fig-post-5" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;COPERNICUS/S2_SR_HARMONIZED&quot;</span><span class="p">);</span>
<span class="w"> </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s2</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lt</span><span class="p">(</span><span class="s1">&#39;CLOUDY_PIXEL_PERCENTAGE&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">30</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">date</span><span class="p">(</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-01-01&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">bounds</span><span class="p">(</span><span class="nx">roi</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B.*&#39;</span><span class="p">);</span>
<span class="w">  </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">composite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">filtered</span><span class="p">.</span><span class="nx">median</span><span class="p">().</span><span class="nx">clip</span><span class="p">(</span><span class="nx">roi</span><span class="p">);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">rgbVisParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">3000</span><span class="p">,</span>
<span class="w">  </span><span class="nx">bands</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">composite</span><span class="p">,</span><span class="w"> </span><span class="nx">rgbVisParams</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;roi: región de interés&#39;</span><span class="p">);</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">centerObject</span><span class="p">(</span><span class="nx">roi</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>

<span class="c1">// TRAINING DATA:</span>
<span class="c1">// Crear FeatureCollections para</span>
<span class="c1">// agua con propiedad landcover = 0</span>
<span class="c1">// urbano  con propiedad landcover = 1</span>
<span class="c1">// cultivos con propiedad landcover = 2</span>
<span class="c1">// bosque con propiedad landcover = 3</span>
<span class="c1">// terrenoDesnudo con propiedad landcover = 4</span>

<span class="c1">// Merge Training Samples</span>
<span class="c1">// definir una variable gcps: ground control points</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">gcps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">urbano</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">agua</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">cultivos</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">terrenoDesnudo</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">bosque</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">gcps</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>

<span class="c1">// Training fraction 60%</span>
<span class="c1">// Validation Fraction 40%</span>

<span class="c1">// Asignar un numero random entre 0 y 1 </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">gcp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcps</span><span class="p">.</span><span class="nx">randomColumn</span><span class="p">();</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">trainingGCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcp</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lt</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">validationGCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcp</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">gte</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<span class="c1">// print(trainingGCP.size());</span>
<span class="c1">// print(validationGCP.size());</span>

<span class="c1">// Extract the pixel values</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">training</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">trainingGCP</span><span class="p">,</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;landcover&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span>
<span class="w">  </span><span class="nx">tileScale</span><span class="o">:</span><span class="w"> </span><span class="mf">16</span>
<span class="p">});</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">training</span><span class="p">);</span>

<span class="c1">//print(&#39;Training data:&#39;, training.limit(10)); </span>


<span class="c1">// Agregar propiedades explícitas al training si es necesario</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">trainingWithBands</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">training</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">feature</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span>
<span class="w">    </span><span class="nx">B1</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B1&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B2</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B2&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B3</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B4</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B5</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B5&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B6</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B6&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B7</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B7&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B8</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B8A</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B8A&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B9</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B9&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B11</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B11&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B12</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B12&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">landcover</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;landcover&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
<span class="c1">// Exportar los datos a Google Drive</span>
<span class="nx">Export</span><span class="p">.</span><span class="nx">table</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">trainingWithBands</span><span class="p">,</span>
<span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Training_Data2&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">fileFormat</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;CSV&#39;</span>
<span class="p">});</span>


<span class="c1">// TRAIN A CLASSIFIER</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Classifier</span><span class="p">.</span><span class="nx">libsvm</span><span class="p">().</span><span class="nx">train</span><span class="p">({</span>
<span class="w">  </span><span class="nx">features</span><span class="o">:</span><span class="w"> </span><span class="nx">training</span><span class="p">,</span>
<span class="w">  </span><span class="nx">classProperty</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;landcover&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">inputProperties</span><span class="o">:</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">bandNames</span><span class="p">()</span>
<span class="p">});</span>

<span class="c1">// CLASSIFY THE IMAGE</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">classify</span><span class="p">(</span><span class="nx">classifier</span><span class="p">);</span>

<span class="c1">// Display the image</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classVis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span>
<span class="w">  </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;violet&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;orange&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">classified</span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">roi</span><span class="p">),</span><span class="w"> </span><span class="nx">classVis</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Imagen Clasificada&#39;</span><span class="p">);</span>

<span class="c1">// ACCURACY ASSESSMENT</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">classified</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">validationGCP</span><span class="p">,</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;landcover&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span>
<span class="p">});</span>
<span class="c1">// print(test);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">test</span><span class="p">.</span><span class="nx">errorMatrix</span><span class="p">(</span><span class="s1">&#39;landcover&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;classification&#39;</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Confusion Matrix&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Test Accuracy&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">accuracy</span><span class="p">());</span>

<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Producers Accuracy:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">producersAccuracy</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Consumers Accuracy:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">consumersAccuracy</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
</pre></div>
</div>
<p>¿Qué es SVM? Es un clasificador que busca encontrar un hiperplano óptimo que separe los datos en clases. (esto fue explicado en el capítulo 1). Luego de este, cambio no hay nada mas que hacer para obtener la clasificación, simplemente guardar y volver a ejecutar.</p>
<p>En el script realizamos una evaluación de la exactitud, incluyendo la matriz de confusión. Obtenemos métricas de productor y consumidor y el coeficiente de Kappa, como en el script anterior.</p>
<p>SVM es ideal para escenarios donde las clases no están claramente separadas linealmente. GEE es una poderosa herramienta para el análisis de datos espaciales y la clasificación de imágenes satelitales.
Sin embargo, hay ciertas limitaciones cuando trabajamos con algoritmos como SVM. Por ejemplo GEE <em>no esta diseñado para visualizar los hiperplanos que separan las clases en una clasificación</em> (ver fig. <a class="reference internal" href="#fig-post-7"><span class="std std-numref">Fig. 4.2</span></a>).
Esto se debe a que el <em>enfoque principal de GEE es el procesamiento y el analisis de datos espaciales</em> no la visualizacion detallada de los resultados matematicos de los modelos de ML.</p>
<figure class="align-default" id="fig-post-7">
<a class="reference internal image-reference" href="_images/POST_7.png"><img alt="_images/POST_7.png" src="_images/POST_7.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.2 </span><span class="caption-text">Hiperplanos de SVM</span><a class="headerlink" href="#fig-post-7" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Ademas cuando aplicamos una clasificacion multiclase, como en el caso de un problema con 5 clases, el uso de SVM puede tornarse un tanto engorroso. Esto se debe a que SVM manejan las clasificaciones multiclase
dividiéndolas en multiples problemas de clasificiones binarias. Lo que aumenta la complejida del modelo y su interpretación. Si bien GEE puede efectuar la clasificación y devolver el mapa resultante, no proporcionará una visualización clara de cómo se generan o estructuran estos hiperplanos en el espacio de características.</p>
<blockquote>
<div><p><strong>GEE (JavaScript)</strong></p>
</div></blockquote>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;COPERNICUS/S2_SR_HARMONIZED&quot;</span><span class="p">);</span>
<span class="w"> </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s2</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lt</span><span class="p">(</span><span class="s1">&#39;CLOUDY_PIXEL_PERCENTAGE&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">30</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">date</span><span class="p">(</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-01-01&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">bounds</span><span class="p">(</span><span class="nx">roi</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B.*&#39;</span><span class="p">);</span>
<span class="w">  </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">composite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">filtered</span><span class="p">.</span><span class="nx">median</span><span class="p">().</span><span class="nx">clip</span><span class="p">(</span><span class="nx">roi</span><span class="p">);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">rgbVisParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">3000</span><span class="p">,</span>
<span class="w">  </span><span class="nx">bands</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">composite</span><span class="p">,</span><span class="w"> </span><span class="nx">rgbVisParams</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;roi: región de interés&#39;</span><span class="p">);</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">centerObject</span><span class="p">(</span><span class="nx">roi</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>

<span class="c1">// TRAINING DATA:</span>
<span class="c1">// Crear FeatureCollections para</span>
<span class="c1">// agua con propiedad landcover = 0</span>
<span class="c1">// urbano  con propiedad landcover = 1</span>
<span class="c1">// cultivos con propiedad landcover = 2</span>
<span class="c1">// bosque con propiedad landcover = 3</span>
<span class="c1">// terrenoDesnudo con propiedad landcover = 4</span>

<span class="c1">// Merge Training Samples</span>
<span class="c1">// definir una variable gcps: ground control points</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">gcps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">urbano</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">agua</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">cultivos</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">terrenoDesnudo</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">bosque</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">gcps</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>

<span class="c1">// Training fraction 60%</span>
<span class="c1">// Validation Fraction 40%</span>

<span class="c1">// Asignar un numero random entre 0 y 1 </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">gcp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcps</span><span class="p">.</span><span class="nx">randomColumn</span><span class="p">();</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">trainingGCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcp</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lt</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">validationGCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcp</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">gte</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<span class="c1">// print(trainingGCP.size());</span>
<span class="c1">// print(validationGCP.size());</span>

<span class="c1">// Extract the pixel values</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">training</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">trainingGCP</span><span class="p">,</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;landcover&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span>
<span class="w">  </span><span class="nx">tileScale</span><span class="o">:</span><span class="w"> </span><span class="mf">16</span>
<span class="p">});</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">training</span><span class="p">);</span>

<span class="c1">//print(&#39;Training data:&#39;, training.limit(10)); </span>


<span class="c1">// Agregar propiedades explícitas al training si es necesario</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">trainingWithBands</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">training</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">feature</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span>
<span class="w">    </span><span class="nx">B1</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B1&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B2</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B2&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B3</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B4</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B5</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B5&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B6</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B6&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B7</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B7&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B8</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B8A</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B8A&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B9</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B9&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B11</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B11&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">B12</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;B12&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">landcover</span><span class="o">:</span><span class="w"> </span><span class="nx">feature</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;landcover&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
<span class="c1">// Exportar los datos a Google Drive</span>
<span class="nx">Export</span><span class="p">.</span><span class="nx">table</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">trainingWithBands</span><span class="p">,</span>
<span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Training_Data2&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">fileFormat</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;CSV&#39;</span>
<span class="p">});</span>


<span class="c1">// TRAIN A CLASSIFIER</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Classifier</span><span class="p">.</span><span class="nx">libsvm</span><span class="p">().</span><span class="nx">train</span><span class="p">({</span>
<span class="w">  </span><span class="nx">features</span><span class="o">:</span><span class="w"> </span><span class="nx">training</span><span class="p">,</span>
<span class="w">  </span><span class="nx">classProperty</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;landcover&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">inputProperties</span><span class="o">:</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">bandNames</span><span class="p">()</span>
<span class="p">});</span>

<span class="c1">// CLASSIFY THE IMAGE</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">classify</span><span class="p">(</span><span class="nx">classifier</span><span class="p">);</span>

<span class="c1">// Display the image</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classVis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span>
<span class="w">  </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;violet&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;orange&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">classified</span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">roi</span><span class="p">),</span><span class="w"> </span><span class="nx">classVis</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Imagen Clasificada&#39;</span><span class="p">);</span>

<span class="c1">// ACCURACY ASSESSMENT</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">classified</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">validationGCP</span><span class="p">,</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;landcover&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span>
<span class="p">});</span>
<span class="c1">// print(test);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">test</span><span class="p">.</span><span class="nx">errorMatrix</span><span class="p">(</span><span class="s1">&#39;landcover&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;classification&#39;</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Confusion Matrix&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Test Accuracy&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">accuracy</span><span class="p">());</span>

<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Producers Accuracy:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">producersAccuracy</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Consumers Accuracy:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">consumersAccuracy</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
</pre></div>
</div>
<figure class="align-default" id="fig-post-6">
<a class="reference internal image-reference" href="_images/POST_6.png"><img alt="_images/POST_6.png" src="_images/POST_6.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.3 </span><span class="caption-text">Indicaciones para aplicar la plantilla de SVM</span><a class="headerlink" href="#fig-post-6" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="arbol-de-decision">
<h2><span class="section-number">4.3. </span>Arbol de Decisión<a class="headerlink" href="#arbol-de-decision" title="Link to this heading">#</a></h2>
<p>Ahora guardaremos nuevamente este script con otro nombre: Lab_004_DT_Rosario. DT son las siglas de <em>árbol de decisión</em> o <em>decision tree</em>.</p>
<p>Para aplicar esta técnica necesitamos cambiar el clasificador, borraremos el clasificador <strong>libsvm()</strong> y lo reemplazaremos por <strong>smileCart()</strong></p>
<p>Es decir, ahora usamos ee.Classifier.smileCart() para aplicar un árbol de decisión. Como lo indica su documentación CART significa ´<em>Clasification and Regression Tree</em> (ver fig. <a class="reference internal" href="#fig-post-8"><span class="std std-numref">Fig. 4.4</span></a>) <em>Árbol de Regresión y Clasificación</em></p>
<figure class="align-default" id="fig-post-8">
<a class="reference internal image-reference" href="_images/POST_8.png"><img alt="_images/POST_8.png" src="_images/POST_8.png" style="width: 70%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.4 </span><span class="caption-text">Acrónimo de CART</span><a class="headerlink" href="#fig-post-8" title="Link to this image">#</a></p>
</figcaption>
</figure>
<blockquote>
<div><p><strong>¿Qué es un árbol de decisión?</strong> Es un modelo jerárquico que divide los datos en función de preguntas simples o nodos decisión, también llamadas condiciones, para clasificar cada pixel.</p>
</div></blockquote>
<blockquote>
<div><p><strong>Ventajas y aplicaciones:</strong>
Es fácil de interpretar y útil para entender cómo se toman las decisiones de clasificación. Extraemos las reglas del árbol con el comando classifier.explain(), que nos permite visualizar las condiciones utilizadas para clasificar (ver fig. <a class="reference internal" href="#fig-post-10"><span class="std std-numref">Fig. 4.5</span></a>).</p>
</div></blockquote>
<p>Calculamos su precsión 98.02 por ciento. Ahora agregaremo código para obtener las reglas del árbol de decisión entrenado, y para mostrar las reglas del árbol.</p>
<figure class="align-default" id="fig-post-10">
<a class="reference internal image-reference" href="_images/POST_10.png"><img alt="_images/POST_10.png" src="_images/POST_10.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.5 </span><span class="caption-text">Arbol de Decisión con CART</span><a class="headerlink" href="#fig-post-10" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Como mencionamos en el video 2 de esta serie, el árbol de decisión es útil porque condensa la información del modelo entrenado.</p>
<figure class="align-default" id="fig-post-9">
<a class="reference internal image-reference" href="_images/POST_9.png"><img alt="_images/POST_9.png" src="_images/POST_9.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.6 </span><span class="caption-text">Template de SmileCART</span><a class="headerlink" href="#fig-post-9" title="Link to this image">#</a></p>
</figcaption>
</figure>
<blockquote>
<div><p><strong>GEE (JavaScript)</strong></p>
</div></blockquote>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;COPERNICUS/S2_SR_HARMONIZED&quot;</span><span class="p">);</span>
<span class="w"> </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">filtered</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s2</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lt</span><span class="p">(</span><span class="s1">&#39;CLOUDY_PIXEL_PERCENTAGE&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">30</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">date</span><span class="p">(</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-01-01&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">bounds</span><span class="p">(</span><span class="nx">roi</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B.*&#39;</span><span class="p">);</span>
<span class="w">  </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">composite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">filtered</span><span class="p">.</span><span class="nx">median</span><span class="p">().</span><span class="nx">clip</span><span class="p">(</span><span class="nx">roi</span><span class="p">);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">rgbVisParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">3000</span><span class="p">,</span>
<span class="w">  </span><span class="nx">bands</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">composite</span><span class="p">,</span><span class="w"> </span><span class="nx">rgbVisParams</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;roi: región de interés&#39;</span><span class="p">);</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">centerObject</span><span class="p">(</span><span class="nx">roi</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>

<span class="c1">// TRAINING DATA:</span>
<span class="c1">// Crear FeatureCollections para</span>
<span class="c1">// agua con propiedad landcover = 0</span>
<span class="c1">// urbano  con propiedad landcover = 1</span>
<span class="c1">// cultivos con propiedad landcover = 2</span>
<span class="c1">// bosque con propiedad landcover = 3</span>
<span class="c1">// terrenoDesnudo con propiedad landcover = 4</span>

<span class="c1">// Merge Training Samples</span>
<span class="c1">// definir una variable gcps: ground control points</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">gcps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">urbano</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">agua</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">cultivos</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">terrenoDesnudo</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">bosque</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">gcps</span><span class="p">.</span><span class="nx">size</span><span class="p">());</span>

<span class="c1">// Training fraction 60%</span>
<span class="c1">// Validation Fraction 40%</span>

<span class="c1">// Asignar un numero random entre 0 y 1 </span>
<span class="kd">var</span><span class="w"> </span><span class="nx">gcp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcps</span><span class="p">.</span><span class="nx">randomColumn</span><span class="p">();</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">trainingGCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcp</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lt</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">validationGCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">gcp</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">gte</span><span class="p">(</span><span class="s1">&#39;random&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">));</span>
<span class="c1">// print(trainingGCP.size());</span>
<span class="c1">// print(validationGCP.size());</span>

<span class="c1">// Extract the pixel values</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">training</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">trainingGCP</span><span class="p">,</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;landcover&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span>
<span class="w">  </span><span class="nx">tileScale</span><span class="o">:</span><span class="w"> </span><span class="mf">16</span>
<span class="p">});</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">training</span><span class="p">);</span>

<span class="c1">// TRAIN A CLASSIFIER</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Classifier</span><span class="p">.</span><span class="nx">smileCart</span><span class="p">().</span><span class="nx">train</span><span class="p">({</span>
<span class="w">  </span><span class="nx">features</span><span class="o">:</span><span class="w"> </span><span class="nx">training</span><span class="p">,</span>
<span class="w">  </span><span class="nx">classProperty</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;landcover&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">inputProperties</span><span class="o">:</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">bandNames</span><span class="p">()</span>
<span class="p">});</span>

<span class="c1">// CLASSIFY THE IMAGE</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">classify</span><span class="p">(</span><span class="nx">classifier</span><span class="p">);</span>

<span class="c1">// Display the image</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">classVis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">  </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span>
<span class="w">  </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;violet&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;orange&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">classified</span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">roi</span><span class="p">),</span><span class="w"> </span><span class="nx">classVis</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Imagen Clasificada&#39;</span><span class="p">);</span>

<span class="c1">// ACCURACY ASSESSMENT</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">classified</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
<span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">validationGCP</span><span class="p">,</span>
<span class="w">  </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;landcover&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span>
<span class="p">});</span>
<span class="c1">// print(test);</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">test</span><span class="p">.</span><span class="nx">errorMatrix</span><span class="p">(</span><span class="s1">&#39;landcover&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;classification&#39;</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Confusion Matrix&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Test Accuracy&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">accuracy</span><span class="p">());</span>

<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Producers Accuracy:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">producersAccuracy</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Consumers Accuracy:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">testConfusionMatrix</span><span class="p">.</span><span class="nx">consumersAccuracy</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>

<span class="c1">// Obtener las reglas del árbol de decisión entrenado</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">treeRules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">classifier</span><span class="p">.</span><span class="nx">explain</span><span class="p">();</span>

<span class="c1">// Mostrar las reglas del árbol</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Tree Rules:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">treeRules</span><span class="p">);</span>

<span class="c1">// Contar píxeles válidos por banda</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">pixelCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">reduceRegion</span><span class="p">({</span>
<span class="w">  </span><span class="nx">reducer</span><span class="o">:</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">count</span><span class="p">(),</span>
<span class="w">  </span><span class="nx">geometry</span><span class="o">:</span><span class="w"> </span><span class="nx">roi</span><span class="p">,</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="c1">// Usar la escala correcta, en este caso utilizo Sentinel-2</span>
<span class="w">  </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e13</span>
<span class="p">});</span>

<span class="c1">// Imprimir el resultado</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Número total de píxeles válidos por banda:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">pixelCount</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="grafico-del-arbol-de-decision-con-google-colab">
<h2><span class="section-number">4.4. </span>Gráfico del Arbol de decisión con Google Colab<a class="headerlink" href="#grafico-del-arbol-de-decision-con-google-colab" title="Link to this heading">#</a></h2>
<p>Las reglas del árbol se muestran en formato texto, copiaremos el archivo dot (ver fig. <a class="reference internal" href="#fig-post-11"><span class="std std-numref">Fig. 4.7</span></a>) y abriremos un archivo nuevo en Google colab que nos permitirá dado el archivo dot, graficar el mismo y ver su formato árbol.</p>
<figure class="align-default" id="fig-post-11">
<a class="reference internal image-reference" href="_images/POST_11.png"><img alt="_images/POST_11.png" src="_images/POST_11.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.7 </span><span class="caption-text">Reglas del Arbol en formato dot</span><a class="headerlink" href="#fig-post-11" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>A continuación se muestra el código Python que permite graficar un árbol de decisión, dado el archivo .dot.</p>
<blockquote>
<div><p><strong>Colab (Python)</strong></p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">graphviz</span>
<span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">graphviz</span>

<span class="c1"># Instalar dependencias adicionales para la conversión de PDF a imagen</span>
<span class="err">!</span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="o">-</span><span class="n">qq</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">poppler</span><span class="o">-</span><span class="n">utils</span>
<span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">pdf2image</span>

<span class="c1"># Importar las librerías necesarias</span>
<span class="kn">import</span> <span class="nn">graphviz</span>
<span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">files</span>
<span class="kn">from</span> <span class="nn">pdf2image</span> <span class="kn">import</span> <span class="n">convert_from_path</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Definir las reglas del árbol de decisión en formato DOT</span>
<span class="n">dot_data</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">digraph DecisionTree {</span>
<span class="s2"> node [shape=box, style=&quot;filled, rounded&quot;, color=&quot;black&quot;, fontname=helvetica];</span>
<span class="s2"> edge [fontname=helvetica];</span>
<span class="s2"> 0 [label=&lt;B8 &amp;le; 891.5833&lt;br/&gt;score = 0.4998&gt;, fillcolor=&quot;#00000000&quot;];</span>
<span class="s2"> 1 [label=&lt;class = 1&gt;, fillcolor=&quot;#00000000&quot;, shape=ellipse];</span>
<span class="s2"> 0 -&gt; 1 [labeldistance=2.5, labelangle=45, headlabel=&quot;True&quot;];</span>
<span class="s2"> 2 [label=&lt;class = 0&gt;, fillcolor=&quot;#00000000&quot;, shape=ellipse];</span>
<span class="s2"> 0 -&gt; 2 [labeldistance=2.5, labelangle=-45, headlabel=&quot;False&quot;];</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># Crear el gráfico a partir del DOT</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">graphviz</span><span class="o">.</span><span class="n">Source</span><span class="p">(</span><span class="n">dot_data</span><span class="p">)</span>

<span class="c1"># Renderizar el árbol de decisión en formato PDF</span>
<span class="n">graph</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s1">&#39;decision_tree&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="n">cleanup</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Convertir el PDF a imagen</span>
<span class="n">images</span> <span class="o">=</span> <span class="n">convert_from_path</span><span class="p">(</span><span class="s1">&#39;decision_tree.pdf&#39;</span><span class="p">)</span>

<span class="c1"># Mostrar la imagen del árbol de decisión</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>  <span class="c1"># Desactivar los ejes para que solo se vea la imagen</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

</pre></div>
</div>
<p>Cada vez que emplees árbol de decisión en GEE podrás utilizar este archivo colab para graficar el árbol del clasificador entrenado. Simplemente deberás modificar el archivo .dot, es decir modificar el contendio de la vairalbe <strong>dot_data</strong> y ejecutar cada chunk de código.</p>
<p>Enlace al archivo en Google Colab: <a class="reference external" href="https://colab.research.google.com/drive/1AdTW_jUPDzoIhBjeoGgWkSdsh1Ke6SLy?usp=sharing">https://colab.research.google.com/drive/1AdTW_jUPDzoIhBjeoGgWkSdsh1Ke6SLy?usp=sharing</a></p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/POST_6.png"><img alt="_images/POST_6.png" src="_images/POST_6.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.8 </span><span class="caption-text">Tips para apicar SVM con el script como template</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Los árboles de decisión son una herramienta sencilla y poderosa, especialmente para tareas donde la <em>interpretabilidad es importante</em>. Comparados con Random Forest y SVM, ofrecen una estructura clara de cómo se toman las decisiones.</p>
<p>Ahora que hemos aplicado el algoritmo de aprendizaje automático de Arboles de Decisión al área metropolitana de Rosario, podemos analizar el árbol de decisión</p>
</section>
<section id="identificando-los-elementos-del-arbol-de-decision">
<h2><span class="section-number">4.5. </span>Identificando los elementos del árbol de decisión<a class="headerlink" href="#identificando-los-elementos-del-arbol-de-decision" title="Link to this heading">#</a></h2>
<p>Primero podemos identificar las principales partes de un árbol de decisión:</p>
<p>Este árbol tiene 7 <strong>nodos de decisión</strong>, donde cada nodo de decisión tiene una condición lógica o booleana “menor igual que”, basado en un umbral de las bandas.</p>
<figure class="align-default" id="fig-post-16">
<a class="reference internal image-reference" href="_images/POST_16.png"><img alt="_images/POST_16.png" src="_images/POST_16.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.9 </span><span class="caption-text">Nodo de Decisión: Definición</span><a class="headerlink" href="#fig-post-16" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-ndhojasarboldecisionlab004">
<a class="reference internal image-reference" href="_images/NDhojasArbolDecisionLab004.png"><img alt="_images/NDhojasArbolDecisionLab004.png" src="_images/NDhojasArbolDecisionLab004.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.10 </span><span class="caption-text">Nodo de Decisión: Ejemplo</span><a class="headerlink" href="#fig-ndhojasarboldecisionlab004" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Por ejemplo la <strong>raíz del árbol</strong> es el primer nodo situado en la parte superior:</p>
<figure class="align-default" id="fig-post-17">
<a class="reference internal image-reference" href="_images/POST_17.png"><img alt="_images/POST_17.png" src="_images/POST_17.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.11 </span><span class="caption-text">Raíz del árbol de decisión</span><a class="headerlink" href="#fig-post-17" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-raizarboldecisionlab004">
<a class="reference internal image-reference" href="_images/raizArbolDecisionLab004.png"><img alt="_images/raizArbolDecisionLab004.png" src="_images/raizArbolDecisionLab004.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.12 </span><span class="caption-text">Raíz del árbol de decisión: Ejemplo</span><a class="headerlink" href="#fig-raizarboldecisionlab004" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Este nodo, el nodo raíz, tiene una condición: B6 &lt;= 1095.0.</p>
<figure class="align-default" id="fig-post-15">
<a class="reference internal image-reference" href="_images/POST_15.png"><img alt="_images/POST_15.png" src="_images/POST_15.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.13 </span><span class="caption-text">Hoja de un árbol de decisión: Definición</span><a class="headerlink" href="#fig-post-15" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>El árbol además de tener siete <strong>nodos de decisión</strong> cuenta con 8 hojas. Cada hoja representa una clasificación a una de las 5 clases de nuestra clasificación multiclase de Rosario.</p>
<figure class="align-default" id="fig-hojasarboldecisionlab004">
<a class="reference internal image-reference" href="_images/hojasArbolDecisionLab004.png"><img alt="_images/hojasArbolDecisionLab004.png" src="_images/hojasArbolDecisionLab004.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.14 </span><span class="caption-text">Hoja de un árbol de decisión: Ejemplo</span><a class="headerlink" href="#fig-hojasarboldecisionlab004" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Para clasificar una imagen satelital, una vez entrenado este clasificador de arbol de decisión CART, debemos tomar cada pixel y analizar la clase que le corresponde, es decir el árbol se aplica a cada pixel de la imagen satelital.</p>
<p>Hemos calculado la cantidad de pixel por banda con este código:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Contar píxeles válidos por banda</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">pixelCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">composite</span><span class="p">.</span><span class="nx">reduceRegion</span><span class="p">({</span>
<span class="w">  </span><span class="nx">reducer</span><span class="o">:</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">count</span><span class="p">(),</span>
<span class="w">  </span><span class="nx">geometry</span><span class="o">:</span><span class="w"> </span><span class="nx">roi</span><span class="p">,</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="c1">// Asegúrate de usar la escala correcta</span>
<span class="w">  </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e13</span>
<span class="p">});</span>

<span class="c1">// Imprimir el resultado</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Número total de píxeles válidos por banda:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">pixelCount</span><span class="p">);</span>
</pre></div>
</div>
<p>Cada banda tiene un total de 22,600,300 píxeles válidos dentro de la región de interés (roi). Área total en m²: 2,260,030,000 m² (2,260 km² para 10 m de resolución).</p>
</section>
<section id="ejemplo-de-utilizacion-del-arbol-de-decision">
<h2><span class="section-number">4.6. </span>Ejemplo de utilización del Árbol de Decisión<a class="headerlink" href="#ejemplo-de-utilizacion-del-arbol-de-decision" title="Link to this heading">#</a></h2>
<p>Utilizaremos 5 puntos de entrenamiento de nuestra clasificación, uno para cada clase, de los cuales conocemos su clase (ya que son datos conocidos) y verificaremos que el árbol asocia correctamente a la clase correspondiente.</p>
<p>Para clasificar el píxel con los valores proporcionados, seguimos el árbol de decisión paso a paso utilizando las condiciones definidas en cada nodo.</p>
<p>En cada ejemplo, mostraremos el píxel al cual determinaremos la clase a la que corresponde. El video asociado a este script muestra el paso a paso de la evaluación mostrando:</p>
<ul class="simple">
<li><p>a la izquierda el árbol de decisión,</p></li>
<li><p>a la derecha los valores de cada una de sus bandas.</p></li>
</ul>
<p>Para cada píxel realizaremos un recorrido del arbol (ver fig. <a class="reference internal" href="#fig-post-1"><span class="std std-numref">Fig. 4.15</span></a>). considerando los valores de las bandas espectrales en el pixel:</p>
<figure class="align-default" id="fig-post-1">
<a class="reference internal image-reference" href="_images/POST_1.png"><img alt="_images/POST_1.png" src="_images/POST_1.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.15 </span><span class="caption-text">Recorrido de un árbol de decisión</span><a class="headerlink" href="#fig-post-1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="ejemplo-1-clase-0-agua">
<h3><span class="section-number">4.6.1. </span>Ejemplo 1 clase 0 agua<a class="headerlink" href="#ejemplo-1-clase-0-agua" title="Link to this heading">#</a></h3>
<p>El recorrido del arbol para clasificar este píxel es corto y consiste solo de una evaluación:</p>
<ul class="simple">
<li><p>Condición: B6 ≤ 1095.5</p></li>
<li><p>B6: 521</p></li>
<li><p>Evaluación: 521 &lt;= 1095.5 se evalúa a true, verdadero.</p></li>
</ul>
<p>Seguimos por la rama true: La clase predicha para este píxel es clase 0.</p>
<figure class="align-default" id="fig-pixel78-cat0">
<a class="reference internal image-reference" href="_images/Pixel78_Cat0.png"><img alt="_images/Pixel78_Cat0.png" src="_images/Pixel78_Cat0.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.16 </span><span class="caption-text">Píxel del ejemplo 1 clase 0 agua</span><a class="headerlink" href="#fig-pixel78-cat0" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="ejemplo-2-clase-1-urbano">
<h3><span class="section-number">4.6.2. </span>Ejemplo 2 clase 1 urbano<a class="headerlink" href="#ejemplo-2-clase-1-urbano" title="Link to this heading">#</a></h3>
<p>El recorrido consiste de tres evaluaciones:</p>
<p>Primera evaluación:</p>
<ul class="simple">
<li><p>Condición: B6 &lt;= 1095.5</p></li>
<li><p>B6: 2743</p></li>
<li><p>Evaluación:  2743 &lt;= 1095.5 Falso</p></li>
</ul>
<p>Segunda evaluación:</p>
<ul class="simple">
<li><p>Condición: B1 &lt;= 955.00</p></li>
<li><p>B1: 1153</p></li>
<li><p>Evaluación 1153 &lt;= 955 falso</p></li>
</ul>
<p>Tercera evaluación:</p>
<ul class="simple">
<li><p>Condición: B9 &lt;= 2879.25</p></li>
<li><p>B9: 2416</p></li>
<li><p>Evaluación: 2416 &lt;= 2879.25 true</p></li>
</ul>
<p>Seguimos por la rama true: La clase predicha para este píxel es clase 1.</p>
<figure class="align-default" id="fig-pixel41-cat1">
<a class="reference internal image-reference" href="_images/Pixel41_Cat1.png"><img alt="_images/Pixel41_Cat1.png" src="_images/Pixel41_Cat1.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.17 </span><span class="caption-text">Píxel del ejemplo 2 clase 1 urbano</span><a class="headerlink" href="#fig-pixel41-cat1" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="ejemplo-3-clase-2-cultivos">
<h3><span class="section-number">4.6.3. </span>Ejemplo 3 clase 2 cultivos<a class="headerlink" href="#ejemplo-3-clase-2-cultivos" title="Link to this heading">#</a></h3>
<p>El recorrido consiste de tres evaluaciones:</p>
<p>Primera evaluación:</p>
<ul class="simple">
<li><p>Condición: B6 &lt;= 1095.5</p></li>
<li><p>B6: 2751</p></li>
<li><p>Evaluación: 2751 &lt;= 1095.5 falso</p></li>
<li><p>Condición: B1 &lt;= 955.0</p></li>
<li><p>B1: 351</p></li>
<li><p>Evaluación: 351 &lt;= 955 true, verdadero</p></li>
<li><p>Condición: B11 &lt;= 1879.5</p></li>
<li><p>B11: 2579</p></li>
<li><p>Evalucion: 2579 &lt;= 1879.5 false</p></li>
<li><p>Condición: B11 &lt;= 2910.0</p></li>
<li><p>B11: 2579</p></li>
<li><p>Evaluación: 2579 &lt;= 2910.0 true</p></li>
<li><p>Condición: B1 &lt;= 625.00</p></li>
<li><p>B1: 351</p></li>
<li><p>Evalución: 351 &lt;= 625.00 true ,</p></li>
</ul>
<p>Seguimos por la rama true: La clase predicha para este píxel es clase 2.</p>
<figure class="align-default" id="fig-pixel109-cat2">
<a class="reference internal image-reference" href="_images/Pixel109_Cat2.png"><img alt="_images/Pixel109_Cat2.png" src="_images/Pixel109_Cat2.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.18 </span><span class="caption-text">Píxel del ejemplo 3 clase 2 cultivos</span><a class="headerlink" href="#fig-pixel109-cat2" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="ejemplo-4-clase-3-bosque-zona-arbustiva">
<h3><span class="section-number">4.6.4. </span>Ejemplo 4 clase 3 bosque-zona arbustiva<a class="headerlink" href="#ejemplo-4-clase-3-bosque-zona-arbustiva" title="Link to this heading">#</a></h3>
<p>El recorrido consiste de tres evaluaciones:</p>
<p>Primera evaluación:</p>
<ul class="simple">
<li><p>Condición: B6 &lt;= 1095.5</p></li>
<li><p>B6: 2062</p></li>
<li><p>Evaluación: 2062 &lt;= 1095.5 falso</p></li>
</ul>
<p>Segunda evaluación:</p>
<ul class="simple">
<li><p>Condición: B1 &lt;= 955</p></li>
<li><p>B1: 159</p></li>
<li><p>Evaluación: 159 &lt;= 955 verdaero</p></li>
</ul>
<p>Tercera evaluación:</p>
<ul class="simple">
<li><p>Condición: B11 &lt;= 1879.5</p></li>
<li><p>B11: 1388</p></li>
<li><p>Evaluación: 1388 &lt;= 1879.5, verdadero</p></li>
</ul>
<p>Seguimos por la rama true: La clase predicha para este píxel es clase 3</p>
<figure class="align-default" id="fig-pixel159-cat3">
<a class="reference internal image-reference" href="_images/Pixel159_Cat3.png"><img alt="_images/Pixel159_Cat3.png" src="_images/Pixel159_Cat3.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.19 </span><span class="caption-text">Píxel del ejemplo 4 clase 3 bosque-zona arbustiva</span><a class="headerlink" href="#fig-pixel159-cat3" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="ejemplo-5-clase-4-suelo-desnudo">
<h3><span class="section-number">4.6.5. </span>Ejemplo 5 clase 4 suelo desnudo<a class="headerlink" href="#ejemplo-5-clase-4-suelo-desnudo" title="Link to this heading">#</a></h3>
<p>El recorrido consiste de cuatro evaluaciones:</p>
<p>Primera evaluación:</p>
<ul class="simple">
<li><p>Condición: B6 &lt;= 1095.5</p></li>
<li><p>B6: 3151</p></li>
<li><p>Evaluación: 3151 &lt;= 1095.5 , falso.</p></li>
</ul>
<p>Segunda evaluación:</p>
<ul class="simple">
<li><p>Condición B1 &lt;= 955</p></li>
<li><p>B1: 804</p></li>
<li><p>Evaluación: 804 &lt;= 955 verdaero</p></li>
</ul>
<p>Tercera evaluación:</p>
<ul class="simple">
<li><p>Condición: B11 &lt;= 1879.5</p></li>
<li><p>B11: 3756</p></li>
<li><p>Evaluación: 3756 &lt;= 1879.5, falso</p></li>
</ul>
<p>Cuarta evaluación:</p>
<ul class="simple">
<li><p>Condición: B11 &lt;= 2910.0</p></li>
<li><p>B11: es 3756</p></li>
<li><p>Evaluación: 3756 &lt;= 2910, falso</p></li>
</ul>
<p>Seguimos por la rama falso: La clase predicha para este píxel es clase 4.</p>
<figure class="align-default" id="fig-pixel115-cat4">
<a class="reference internal image-reference" href="_images/Pixel115_Cat4.png"><img alt="_images/Pixel115_Cat4.png" src="_images/Pixel115_Cat4.png" style="width: 100%;" /></a>
</figure>
</section>
</section>
<section id="recursos">
<h2><span class="section-number">4.7. </span>Recursos<a class="headerlink" href="#recursos" title="Link to this heading">#</a></h2>
<p>Los recursos asociados a este capítulo incluyen:</p>
<ul class="simple">
<li><p>Youtube: <a class="reference external" href="https://www.youtube.com/watch?v=QBJtlQOPdfQ">https://www.youtube.com/watch?v=QBJtlQOPdfQ</a></p></li>
<li><p>Colab: <a class="reference external" href="https://colab.research.google.com/drive/1AdTW_jUPDzoIhBjeoGgWkSdsh1Ke6SLy?usp=sharing">https://colab.research.google.com/drive/1AdTW_jUPDzoIhBjeoGgWkSdsh1Ke6SLy?usp=sharing</a></p></li>
<li><p>Repositorio GEE: <a class="reference external" href="https://code.earthengine.google.com/?accept_repo=users%2Fcdg-idera%2Fgee">https://code.earthengine.google.com/?accept_repo=users%2Fcdg-idera%2Fgee</a></p></li>
<li><p>Scripts GEE: Lab_003_SVM_Rosario y Lab_004_DT_Rosario</p></li>
</ul>
</section>
<section id="cierre-e-incentivos">
<h2><span class="section-number">4.8. </span>Cierre e Incentivos<a class="headerlink" href="#cierre-e-incentivos" title="Link to this heading">#</a></h2>
<p>Hemos explorado cómo aplicar técnicas de machine learning, una rama clave de la inteligencia artificial, para abordar la clasificación de imágenes satelitales, centrándonos en herramientas como árboles de decisión, Random Forest y máquinas de soporte vectorial (SVM). Estas técnicas permiten no solo clasificar imágenes en múltiples clases, sino también realizar tareas más específicas como clasificación binaria, generando insights valiosos para distintos campos. A lo largo de este recorrido, revisamos el flujo de trabajo completo, incorporando métricas esenciales como la precisión general, la precisión del productor y del consumidor, lo que refuerza nuestra capacidad de evaluar y mejorar la calidad de nuestros modelos.</p>
<p>Sin embargo, este es solo el comienzo de las posibilidades. Por ejemplo, el ajuste de hiperparámetros es una tarea crucial para optimizar el rendimiento de los clasificadores, y plataformas como Google Colab nos ofrecen un entorno accesible y potente para explorar estas técnicas con recursos computacionales avanzados. Además, conceptos como la <em>detección de cambios</em> o la creación de <em>series de tiempo</em> permiten un análisis mucho más dinámico y profundo. Estas herramientas son fundamentales para comprender fenómenos como el crecimiento urbano, la deforestación o los impactos de eventos extremos como inundaciones, mientras que los paneles interactivos, con barras deslizantes o comparaciones visuales, facilitan una mejor comunicación de resultados, haciéndolos accesibles para una audiencia más amplia.</p>
<figure class="align-default" id="fig-post-14">
<a class="reference internal image-reference" href="_images/POST_14.png"><img alt="_images/POST_14.png" src="_images/POST_14.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4.20 </span><span class="caption-text">Serie de tiempo: Tema de próximos capítulos</span><a class="headerlink" href="#fig-post-14" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>En otras posibilidades, podemos analizar <em>imágenes satelitales nocturnas</em>, un recurso valioso para explorar patrones y actividades humanas que solo se manifiestan de noche, como la iluminación artificial en áreas urbanas. Las imágenes de luz nocturna proporcionan información relevante sobre la urbanización, el uso de la tierra y el desarrollo económico. A través de estas imágenes, es posible realizar estudios sobre la expansión urbana, monitorear el comportamiento de las actividades industriales o incluso analizar la distribución de la pobreza en diferentes regiones. De hecho, se ha demostrado que las luces nocturnas pueden ser un indicador confiable de la actividad económica y social, lo que abre nuevas oportunidades para aplicar machine learning y técnicas de clasificación en este tipo de datos.</p>
<p>Más allá de estas herramientas, también debemos reconocer el impacto de los productos globales que integran machine learning y sistemas expertos, como OpenBuilding V3, Global Surface Water, TerraClimate y otros conjuntos de datos clave. Estos productos no solo nos permiten realizar análisis geoespaciales detallados, sino que también simplifican tareas complejas, como el estudio de tendencias climáticas o la evaluación de la urbanización. Por ejemplo, <em>Global Surface Water</em> proporciona un monitoreo detallado de los cuerpos de agua desde 1984, mientras que <em>TerraClimate</em> facilita el análisis de variables climáticas a lo largo del tiempo. El uso de estos recursos combina el poder del aprendizaje automático con la democratización de datos geoespaciales, permitiendo a más personas y organizaciones participar en el análisis y toma de decisiones informadas.</p>
<p>Estamos en un <em>momento histórico donde el acceso a imágenes satelitales y datos geoespaciales se ha expandido enormemente</em>, abriendo la puerta a un futuro prometedor. La posibilidad de trabajar con imágenes de mayor resolución y precisión en un futuro cercano potenciará aún más las capacidades que estamos desarrollando ahora. Este enfoque progresivo y escalonado es clave: cada concepto y herramienta que integramos se convierte en <em>un peldaño más en esta espiral de conocimiento</em>, que nos permitirá abordar desafíos más complejos con confianza.</p>
<p>Finalmente, quiero invitarte a seguir profundizando en este fascinante campo en la intersección entre inteligencia artificial, ciencia de datos y análisis geoespacial. <em>La democratización de las imágenes satelitales nos permite acceder a datos precisos y tangibles sobre la realidad del mundo que nos rodea, lo que transforma cómo entendemos y respondemos a los desafíos globales</em>. Al trabajar con estos datos concretos, no solo aprendemos, sino que también tenemos la <em>oportunidad de generar un impacto real en proyectos que afectan directamente nuestras comunidades y el entorno</em>. Cada paso que damos nos acerca más a dominar estas herramientas poderosas, y eso, sin duda, nos abre un abanico de posibilidades para cambiar el mundo. ¡Lo mejor está por venir! Gracias por acompañarme en este viaje, y espero verte en el próximo video.</p>
</section>
<section id="video-del-capitulo">
<h2><span class="section-number">4.9. </span>Video del capítulo<a class="headerlink" href="#video-del-capitulo" title="Link to this heading">#</a></h2>
<p>Podes mirar el video asociado a este capítulo en el canal de youtube de IDERA: <a class="reference external" href="https://www.youtube.com/watch?v=QBJtlQOPdfQ&amp;amp;t=375s">https://www.youtube.com/watch?v=QBJtlQOPdfQ&amp;t=375s</a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "cdg-idera/PAT_INT_GEE",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Cap3_gee_colab.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Capítulo 3 · Random Forest en GEE y Colab</p>
      </div>
    </a>
    <a class="right-next"
       href="Cap5_Agua.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5. </span>Capítulo 5 · Random Forest para detectar agua</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion">4.1. Introducción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maquina-de-soporte-vectorial">4.2. Máquina de soporte vectorial.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arbol-de-decision">4.3. Arbol de Decisión</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grafico-del-arbol-de-decision-con-google-colab">4.4. Gráfico del Arbol de decisión con Google Colab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identificando-los-elementos-del-arbol-de-decision">4.5. Identificando los elementos del árbol de decisión</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-de-utilizacion-del-arbol-de-decision">4.6. Ejemplo de utilización del Árbol de Decisión</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-1-clase-0-agua">4.6.1. Ejemplo 1 clase 0 agua</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-2-clase-1-urbano">4.6.2. Ejemplo 2 clase 1 urbano</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-3-clase-2-cultivos">4.6.3. Ejemplo 3 clase 2 cultivos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-4-clase-3-bosque-zona-arbustiva">4.6.4. Ejemplo 4 clase 3 bosque-zona arbustiva</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejemplo-5-clase-4-suelo-desnudo">4.6.5. Ejemplo 5 clase 4 suelo desnudo</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recursos">4.7. Recursos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cierre-e-incentivos">4.8. Cierre e Incentivos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#video-del-capitulo">4.9. Video del capítulo</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Luis Reynoso (IDERA-GTT CDG)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>